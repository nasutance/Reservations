import{f as a,o as n,F as v,l as y,c as g,n as C,K as M,u as k,i as V,Q as T,h as U,R as B,w as m,b as o,a as d,d as _,m as l,p,s as f,e as b,t as x,g as R,q as S}from"./app-W1XfXFoj.js";import{_ as h}from"./AppLayout-kOlMqzGg.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{R as F}from"./ReserveButton-S8kRuKii.js";import"./LoginForm-BGTYCXEO.js";import"./TextInput-DNCEo0Mj.js";import"./PrimaryButton-DEMm1_cJ.js";const I={class:"flex flex-wrap gap-1 mt-4"},L={__name:"Pagination",props:{links:Array},setup(c){return(r,u)=>(n(),a("div",I,[(n(!0),a(v,null,y(c.links,(e,i)=>(n(),g(M(e.url?k(V):"span"),{key:i,href:e.url||void 0,class:C(["px-3 py-1 rounded border text-sm",{"bg-blue-600 text-white":e.active,"text-gray-500 cursor-not-allowed":!e.url,"hover:bg-blue-100":e.url&&!e.active}]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))]))}},N=D(L,[["__scopeId","data-v-70da7edf"]]),$={class:"space-y-4"},A={class:"flex flex-col gap-1"},H={class:"text-sm text-gray-600"},P={key:0},j={key:1},z={key:2},E={key:3},K={class:"mt-2"},O={__name:"Index",setup(c){const r=T(),u=U(()=>r.props.shows),e=B({q:r.props.filters.q||"",min_duration:r.props.filters.min_duration||"",max_duration:r.props.filters.max_duration||"",postal_code:r.props.filters.postal_code||"",sort:r.props.filters.sort||"",direction:r.props.filters.direction||"asc"});function i(){S.get(route("show.index"),e,{preserveScroll:!0,preserveState:!0})}function q(){Object.assign(e,{q:"",min_duration:"",max_duration:"",postal_code:"",sort:"",direction:"asc"}),i()}return(w,t)=>(n(),g(h,null,{default:m(()=>[o("div",null,[t[10]||(t[10]=o("h1",{class:"text-2xl font-bold mb-4"},"Liste des spectacles",-1)),o("form",{onSubmit:_(i,["prevent"]),class:"space-y-2 mb-6"},[l(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>e.q=s),placeholder:"Mot-clé",class:"input"},null,512),[[p,e.q]]),l(o("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=s=>e.min_duration=s),placeholder:"Durée min",class:"input"},null,512),[[p,e.min_duration]]),l(o("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=s=>e.max_duration=s),placeholder:"Durée max",class:"input"},null,512),[[p,e.max_duration]]),l(o("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>e.postal_code=s),placeholder:"Code postal",class:"input"},null,512),[[p,e.postal_code]]),l(o("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>e.sort=s),class:"input"},t[6]||(t[6]=[o("option",{value:""},"-- Tri --",-1),o("option",{value:"title"},"Titre",-1),o("option",{value:"duration"},"Durée",-1)]),512),[[f,e.sort]]),l(o("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>e.direction=s),class:"input"},t[7]||(t[7]=[o("option",{value:"asc"},"Asc",-1),o("option",{value:"desc"},"Desc",-1)]),512),[[f,e.direction]]),t[8]||(t[8]=o("button",{type:"submit",class:"btn"},"Filtrer",-1)),o("button",{onClick:_(q,["prevent"]),class:"btn"},"Réinitialiser")],32),o("ul",$,[(n(!0),a(v,null,y(u.value.data,s=>(n(),a("li",{key:s.id,class:"border p-4 rounded shadow-sm"},[o("div",A,[d(k(V),{href:w.route("show.show",s.id),class:"text-blue-600 hover:underline text-lg font-semibold"},{default:m(()=>[b(x(s.title),1)]),_:2},1032,["href"]),o("div",H,[s.bookable?R("",!0):(n(),a("em",P,"Réservation indisponible")),s.representations_count===1?(n(),a("span",j," - 1 représentation")):s.representations_count>1?(n(),a("span",z," - "+x(s.representations_count)+" représentations",1)):(n(),a("span",E,t[9]||(t[9]=[b(" - "),o("em",null,"aucune représentation",-1)])))]),o("div",K,[d(F,{"show-id":s.id,bookable:s.bookable,"representations-count":s.representations_count},null,8,["show-id","bookable","representations-count"])])])]))),128))]),d(N,{links:u.value.links},null,8,["links"])])]),_:1}))}},ee=D(O,[["__scopeId","data-v-156acc93"]]);export{ee as default};
