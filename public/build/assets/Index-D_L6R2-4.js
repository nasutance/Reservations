import{o as n,f as r,F as v,D as y,c as C,n as w,E as M,u as p,j as g,Q as T,G as U,b as o,i,C as u,A as m,e as f,a as _,w as q,d as x,t as b,g as S,H as B}from"./app-70b5w2Ou.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"flex flex-wrap gap-1 mt-4"},I={__name:"Pagination",props:{links:Array},setup(c){return(a,d)=>(n(),r("div",F,[(n(!0),r(v,null,y(c.links,(e,l)=>(n(),C(M(e.url?p(g):"span"),{key:l,href:e.url||void 0,class:w(["px-3 py-1 rounded border text-sm",{"bg-blue-600 text-white":e.active,"text-gray-500 cursor-not-allowed":!e.url,"hover:bg-blue-100":e.url&&!e.active}]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))]))}},L=k(I,[["__scopeId","data-v-70da7edf"]]),N={class:"space-y-2"},A={key:0},H={key:1},j={key:2},E={key:3},P={__name:"Index",setup(c){const a=T(),d=a.props.shows,e=U({q:a.props.filters.q||"",min_duration:a.props.filters.min_duration||"",max_duration:a.props.filters.max_duration||"",postal_code:a.props.filters.postal_code||"",sort:a.props.filters.sort||"",direction:a.props.filters.direction||"asc"});function l(){B.get(route("show.index"),e,{preserveScroll:!0,preserveState:!0})}function V(){Object.assign(e,{q:"",min_duration:"",max_duration:"",postal_code:"",sort:"",direction:"asc"}),l()}return(D,t)=>(n(),r("div",null,[t[10]||(t[10]=o("h1",{class:"text-2xl font-bold mb-4"},"Liste des spectacles",-1)),o("form",{onSubmit:f(l,["prevent"]),class:"space-y-2 mb-6"},[i(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>e.q=s),placeholder:"Mot-clé",class:"input"},null,512),[[u,e.q]]),i(o("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=s=>e.min_duration=s),placeholder:"Durée min",class:"input"},null,512),[[u,e.min_duration]]),i(o("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=s=>e.max_duration=s),placeholder:"Durée max",class:"input"},null,512),[[u,e.max_duration]]),i(o("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>e.postal_code=s),placeholder:"Code postal",class:"input"},null,512),[[u,e.postal_code]]),i(o("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>e.sort=s),class:"input"},t[6]||(t[6]=[o("option",{value:""},"-- Tri --",-1),o("option",{value:"title"},"Titre",-1),o("option",{value:"duration"},"Durée",-1)]),512),[[m,e.sort]]),i(o("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>e.direction=s),class:"input"},t[7]||(t[7]=[o("option",{value:"asc"},"Asc",-1),o("option",{value:"desc"},"Desc",-1)]),512),[[m,e.direction]]),t[8]||(t[8]=o("button",{type:"submit",class:"btn"},"Filtrer",-1)),o("button",{onClick:f(V,["prevent"]),class:"btn"},"Réinitialiser")],32),o("ul",N,[(n(!0),r(v,null,y(p(d).data,s=>(n(),r("li",{key:s.id},[_(p(g),{href:D.route("show.show",s.id),class:"text-blue-600 hover:underline"},{default:q(()=>[x(b(s.title),1)]),_:2},1032,["href"]),s.bookable?S("",!0):(n(),r("em",A,"Réservation indisponible")),s.representations_count===1?(n(),r("span",H," - 1 représentation")):s.representations_count>1?(n(),r("span",j," - "+b(s.representations_count)+" représentations",1)):(n(),r("span",E,t[9]||(t[9]=[x(" - "),o("em",null,"aucune représentation",-1)])))]))),128))]),_(L,{links:p(d).links},null,8,["links"])]))}},z=k(P,[["__scopeId","data-v-8ffa9820"]]);export{z as default};
