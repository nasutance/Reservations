import{f as l,o as d,r as U,Q as x,h as S,j as y,b as a,a as r,w as c,e as v,g as b,u as $}from"./app-CEbGapIU.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as _,_ as R}from"./index-CXyxMkE6.js";const L={};function N(n,i){return d(),l("button",{class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400",onClick:i[0]||(i[0]=t=>n.$emit("click"))},[U(n.$slots,"default")])}const g=C(L,[["render",N]]);function D(){const n=x().props.reservations||[],i=x().props.prices||[];return{formattedReservations:S(()=>n.map(s=>{var o,m,f;return{id:s.id,user:s.user?`${s.user.firstname} ${s.user.lastname}`:"-",showTitle:((m=(o=s.representations[0])==null?void 0:o.show)==null?void 0:m.title)||"-",schedule:(f=s.representations[0])!=null&&f.schedule?_(s.representations[0].schedule):"-",status:s.status,detail:s.representations.length?s.representations.map(u=>{const p=i.find(k=>k.id===u.pivot.price_id);return p?`${u.pivot.quantity} ${p.description}`:`${u.pivot.quantity} -`}).join("<br>"):"-"}}))}}function B(){const n=x().props.users??[];return{formattedUsers:S(()=>n.map(t=>({id:t.id,firstname:t.firstname,lastname:t.lastname,email:t.email,langue:t.langue,role:t.roles.length>0?t.roles[0].role:"-"})))}}function T(){const n=x().props.shows??[];return{formattedShows:S(()=>n.map(t=>{var s,o;return{id:t.id,title:t.title,description:t.description,duration:t.duration?`${t.duration} min`:"-",location:((s=t.representations)==null?void 0:s.length)>0&&((o=t.representations[0].location)==null?void 0:o.designation)||"-",bookable:t.bookable?"Oui":"Non"}}))}}const V={class:"flex space-x-4 mb-8"},A={key:0},F={key:1},j={key:2},q={key:3},z={__name:"AdminDashboard",setup(n){const{formattedReservations:i}=D(),{formattedUsers:t}=B(),{formattedShows:s}=T(),o=y(""),m=["#","Utilisateur","Spectacle","Représentation","Statut","Détails"],f=["id","user","showTitle","schedule","status","detail"],u=["#","Prénom","Nom","email","Langue","Rôle"],p=["id","firstname","lastname","email","langue","role"],k=["#","Titre","Description","Durée","Lieu","Réservable","Représentations"],h=["id","title","description","duration","location","bookable","representations"];return(E,e)=>(d(),l("div",null,[e[11]||(e[11]=a("h2",{class:"text-2xl font-bold mb-6"},"Espace Admin",-1)),a("div",V,[r(g,{onClick:e[0]||(e[0]=w=>o.value="users")},{default:c(()=>e[4]||(e[4]=[v("Utilisateurs")])),_:1}),r(g,{onClick:e[1]||(e[1]=w=>o.value="reservations")},{default:c(()=>e[5]||(e[5]=[v("Réservations")])),_:1}),r(g,{onClick:e[2]||(e[2]=w=>o.value="shows")},{default:c(()=>e[6]||(e[6]=[v("Spectacles")])),_:1}),r(g,{onClick:e[3]||(e[3]=w=>o.value="artists")},{default:c(()=>e[7]||(e[7]=[v("Artistes")])),_:1})]),a("div",null,[o.value==="users"?(d(),l("div",A,[e[8]||(e[8]=a("h3",{class:"text-xl font-semibold mb-4"},"Liste des utilisateurs",-1)),r(R,{headers:u,fields:p,rows:$(t)},null,8,["rows"])])):b("",!0),o.value==="reservations"?(d(),l("div",F,[e[9]||(e[9]=a("h3",{class:"text-xl font-semibold mb-4"},"Liste des réservations",-1)),r(R,{headers:m,fields:f,rows:$(i)},null,8,["rows"])])):b("",!0),o.value==="shows"?(d(),l("div",j,[e[10]||(e[10]=a("h3",{class:"text-xl font-semibold mb-4"},"Liste des spectacles",-1)),r(R,{headers:k,fields:h,rows:$(s)},null,8,["rows"])])):b("",!0),o.value==="artists"?(d(),l("p",q,"Liste des artistes ici")):b("",!0)])]))}};export{z as default};
