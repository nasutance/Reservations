import{_ as k}from"./AppLayout-kOlMqzGg.js";import{Q as y,h as b,c as v,o as t,w as _,b as o,f as e,g as c,t as u,u as n,e as i,F as p,l as g,a as f,i as w}from"./app-W1XfXFoj.js";import{R as B}from"./ReserveButton-S8kRuKii.js";import{f as N}from"./formatDate-D984MnE_.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LoginForm-BGTYCXEO.js";import"./TextInput-DNCEo0Mj.js";import"./PrimaryButton-DEMm1_cJ.js";const L={class:"text-2xl font-bold mb-4"},R={class:"mb-4"},V=["src","alt"],x={key:1,width:"200",height:"100",class:"border"},A={key:0},S={key:1},C={key:0},F={key:1},$={key:2},E={class:"mt-1"},I={key:2},M={class:"mt-6"},Q={__name:"Show",setup(T){const h=y(),l=h.props.show;h.props.auth.user;const d=b(()=>{var s;const m={auteur:[],scénographe:[],comédien:[]};for(const r of l.artist_types??[]){const a=(s=r.type)==null?void 0:s.type;m[a]&&m[a].push(r.artist)}return m});return(m,s)=>(t(),v(k,null,{default:_(()=>[o("article",null,[o("h1",L,u(n(l).title),1),o("div",R,[n(l).poster_url?(t(),e("img",{key:0,src:`/images/${n(l).poster_url}`,alt:n(l).title,width:"200"},null,8,V)):(t(),e("canvas",x))]),n(l).location?(t(),e("p",A,[s[0]||(s[0]=o("strong",null,"Lieu de création :",-1)),i(" "+u(n(l).location.designation),1)])):c("",!0),o("p",null,[s[1]||(s[1]=o("strong",null,"Durée :",-1)),i(" "+u(n(l).duration)+" minutes",1)]),o("p",null,[s[2]||(s[2]=o("strong",null,"Année de création :",-1)),i(" "+u(n(l).created_in),1)]),o("p",null,[o("em",null,u(n(l).bookable?"Réservable":"Non réservable"),1)]),s[6]||(s[6]=o("h2",{class:"mt-6 font-semibold"},"Liste des représentations",-1)),n(l).representations.length?(t(),e("ul",S,[(t(!0),e(p,null,g(n(l).representations,r=>(t(),e("li",{key:r.id,class:"mb-2"},[o("div",null,[i(u(n(N)(r.schedule))+" ",1),r.location?(t(),e("span",C," ("+u(r.location.designation)+") ",1)):n(l).location?(t(),e("span",F," ("+u(n(l).location.designation)+") ",1)):(t(),e("span",$," (lieu à déterminer) "))]),o("div",E,[f(B,{"show-id":n(l).id,bookable:n(l).bookable,"representations-count":n(l).representations.length},null,8,["show-id","bookable","representations-count"])])]))),128))])):(t(),e("p",I,"Aucune représentation")),s[7]||(s[7]=o("h2",{class:"mt-6 font-semibold"},"Liste des artistes",-1)),o("p",null,[s[3]||(s[3]=o("strong",null,"Auteur :",-1)),(t(!0),e(p,null,g(d.value.auteur,(r,a)=>(t(),e("span",{key:a},[i(u(r.firstname)+" "+u(r.lastname)+" ",1),a===d.value.auteur.length-2?(t(),e(p,{key:0},[i(" et ")],64)):a<d.value.auteur.length-1?(t(),e(p,{key:1},[i(", ")],64)):c("",!0)]))),128))]),o("p",null,[s[4]||(s[4]=o("strong",null,"Metteur en scène :",-1)),(t(!0),e(p,null,g(d.value.scénographe,(r,a)=>(t(),e("span",{key:a},[i(u(r.firstname)+" "+u(r.lastname)+" ",1),a===d.value.scénographe.length-2?(t(),e(p,{key:0},[i(" et ")],64)):a<d.value.scénographe.length-1?(t(),e(p,{key:1},[i(", ")],64)):c("",!0)]))),128))]),o("p",null,[s[5]||(s[5]=o("strong",null,"Distribution :",-1)),(t(!0),e(p,null,g(d.value.comédien,(r,a)=>(t(),e("span",{key:a},[i(u(r.firstname)+" "+u(r.lastname)+" ",1),a===d.value.comédien.length-2?(t(),e(p,{key:0},[i(" et ")],64)):a<d.value.comédien.length-1?(t(),e(p,{key:1},[i(", ")],64)):c("",!0)]))),128))])]),o("nav",M,[f(n(w),{href:m.route("show.index"),class:"text-blue-600 hover:underline"},{default:_(()=>s[8]||(s[8]=[i(" Retour à l'index ")])),_:1},8,["href"])])]),_:1}))}},P=D(Q,[["__scopeId","data-v-7e2a75c3"]]);export{P as default};
