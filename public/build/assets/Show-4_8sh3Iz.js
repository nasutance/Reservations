import{_ as f}from"./AppLayout-4KqrZ7A4.js";import{Q as y,h as b,c as v,o as t,w as _,b as n,f as e,g as c,t as u,u as l,e as i,F as p,l as g,a as k,i as w}from"./app-CexaMQVR.js";import{R as B}from"./ReserveButton-Csr-uXut.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LoginForm-DMG6_6s7.js";import"./TextInput-M-wGZhbr.js";import"./PrimaryButton-C_iEWPNK.js";const L={class:"text-2xl font-bold mb-4"},R={class:"mb-4"},V=["src","alt"],x={key:1,width:"200",height:"100",class:"border"},A={key:0},D={key:1},S={key:0},C={key:1},F={key:2},$={class:"mt-1"},E={key:2},I={class:"mt-6"},M={__name:"Show",setup(Q){const h=y(),o=h.props.show;h.props.auth.user;const d=b(()=>{var s;const m={auteur:[],scénographe:[],comédien:[]};for(const r of o.artist_types??[]){const a=(s=r.type)==null?void 0:s.type;m[a]&&m[a].push(r.artist)}return m});return(m,s)=>(t(),v(f,null,{default:_(()=>[n("article",null,[n("h1",L,u(l(o).title),1),n("div",R,[l(o).poster_url?(t(),e("img",{key:0,src:`/images/${l(o).poster_url}`,alt:l(o).title,width:"200"},null,8,V)):(t(),e("canvas",x))]),l(o).location?(t(),e("p",A,[s[0]||(s[0]=n("strong",null,"Lieu de création :",-1)),i(" "+u(l(o).location.designation),1)])):c("",!0),n("p",null,[s[1]||(s[1]=n("strong",null,"Durée :",-1)),i(" "+u(l(o).duration)+" minutes",1)]),n("p",null,[s[2]||(s[2]=n("strong",null,"Année de création :",-1)),i(" "+u(l(o).created_in),1)]),n("p",null,[n("em",null,u(l(o).bookable?"Réservable":"Non réservable"),1)]),s[6]||(s[6]=n("h2",{class:"mt-6 font-semibold"},"Liste des représentations",-1)),l(o).representations.length?(t(),e("ul",D,[(t(!0),e(p,null,g(l(o).representations,r=>(t(),e("li",{key:r.id,class:"mb-2"},[n("div",null,[i(u(r.schedule)+" ",1),r.location?(t(),e("span",S," ("+u(r.location.designation)+") ",1)):l(o).location?(t(),e("span",C," ("+u(l(o).location.designation)+") ",1)):(t(),e("span",F," (lieu à déterminer) "))]),n("div",$,[k(B,{"show-id":l(o).id,bookable:l(o).bookable,"representations-count":l(o).representations.length},null,8,["show-id","bookable","representations-count"])])]))),128))])):(t(),e("p",E,"Aucune représentation")),s[7]||(s[7]=n("h2",{class:"mt-6 font-semibold"},"Liste des artistes",-1)),n("p",null,[s[3]||(s[3]=n("strong",null,"Auteur :",-1)),(t(!0),e(p,null,g(d.value.auteur,(r,a)=>(t(),e("span",{key:a},[i(u(r.firstname)+" "+u(r.lastname)+" ",1),a===d.value.auteur.length-2?(t(),e(p,{key:0},[i(" et ")],64)):a<d.value.auteur.length-1?(t(),e(p,{key:1},[i(", ")],64)):c("",!0)]))),128))]),n("p",null,[s[4]||(s[4]=n("strong",null,"Metteur en scène :",-1)),(t(!0),e(p,null,g(d.value.scénographe,(r,a)=>(t(),e("span",{key:a},[i(u(r.firstname)+" "+u(r.lastname)+" ",1),a===d.value.scénographe.length-2?(t(),e(p,{key:0},[i(" et ")],64)):a<d.value.scénographe.length-1?(t(),e(p,{key:1},[i(", ")],64)):c("",!0)]))),128))]),n("p",null,[s[5]||(s[5]=n("strong",null,"Distribution :",-1)),(t(!0),e(p,null,g(d.value.comédien,(r,a)=>(t(),e("span",{key:a},[i(u(r.firstname)+" "+u(r.lastname)+" ",1),a===d.value.comédien.length-2?(t(),e(p,{key:0},[i(" et ")],64)):a<d.value.comédien.length-1?(t(),e(p,{key:1},[i(", ")],64)):c("",!0)]))),128))])]),n("nav",I,[k(l(w),{href:m.route("show.index"),class:"text-blue-600 hover:underline"},{default:_(()=>s[8]||(s[8]=[i(" Retour à l'index ")])),_:1},8,["href"])])]),_:1}))}},K=N(M,[["__scopeId","data-v-8331280c"]]);export{K as default};
